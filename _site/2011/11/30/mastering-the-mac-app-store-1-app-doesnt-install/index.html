<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      Mastering the Mac App Store #1: App doesn't install &middot; nxhelp.com
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Droid+Serif:400,400italic,700|Droid+Sans:400">
  <link rel="stylesheet" href="http://weloveiconfonts.com/api/?family=entypo">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">

  <!-- Google Analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-146052-15', 'getpoole.com');
    ga('send', 'pageview');
  </script>
</head>


  <body class="theme-base-0d">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox" checked>

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p></p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">Home</a>

    

    
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">About</a>
        
      
    
      
        
          <a class="sidebar-nav-item" href="/archive/">Archive</a>
        
      
    
      
    
      
    
      
        
          <a class="sidebar-nav-item" href="/projects/">Projects</a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    

    <a class="sidebar-nav-item" href="https://github.com/acidix/nxhelp">GitHub project</a>
    <span class="sidebar-nav-item">Currently v1.0.0</span>
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2014. All rights reserved.
    </p>
  </div>
</div>


    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <label for="sidebar-checkbox" class="sidebar-toggle"></label>

          <h3 class="masthead-title">
            <a href="/" title="Home">nxhelp.com</a>
            <small>by Thomas Uhde</small>
          </h3>
        </div>
      </div>

      <div class="container content" id="container">
        <div class="post">
  <h1 class="post-title post-title-blog"> <a href="">Mastering the Mac App Store #1: App doesn't install</a></h1>
    
    <span class="post-date">November 30th 2011</span>
    
   <span class="social">[ <a target="_blank" rel="nofollow" href="https://twitter.com/intent/tweet?original_referer=%2F2011%2F11%2F30%2Fmastering-the-mac-app-store-1-app-doesnt-install%2F&text=Mastering+the+Mac+App+Store+#1:+App+doesn't+install&url=http%3A%2F%2Fnxhelp.com%2F%2F2011%2F11%2F30%2Fmastering-the-mac-app-store-1-app-doesnt-install%2F&via=ThomasUhde" title="Tweet this post">tweet</a> : <a target="_blank" rel="nofollow" href="https://alpha.app.net/intent/post?text=Mastering%20the%20Mac%20App%20Store%20#1:%20App%20doesn't%20install%20%2D%20http%3A%2F%2Fnxhelp.com%2F%2F2011%2F11%2F30%2Fmastering-the-mac-app-store-1-app-doesnt-install%2F">adn</a>]</span>
  <p>I had another coming together with the <em>nice</em> Mac Appstore. I really have mixed feelings about this thing. While I do like the idea of having a central place to manage my apps, it suffers from major problems …</p>

<ul>
<li>It&#39;s too slow.</li>
<li>It&#39;s incomplete.</li>
<li>It causes problems</li>
</ul>

<p>Especially the third aspect bit me yesterday. I had the Trial version of <a href="http://www.vicoapp.com/" title="Vico App">Vico</a> installed on my Mac (the editor I was looking for, by the way …) and wanted to upgrade to the paid version. That said, the most logical  approach for me was to just go to the Mac Appstore and buy the damn thing!</p>

<p>Having done that, I got suspicious right after I bought it. The Appstore told me that <a href="http://www.vicoapp.com/" title="Vico App">Vico</a> was already installed and if I wanted to redownload it. I responded &quot;Yes, redownload&quot;. That did nothing - opening <a href="http://www.vicoapp.com/" title="Vico App">Vico</a> still showed me my Trial period was over.</p>

<p>The next try was to remove <em>Vico.app</em> from my <em>Applications</em> directory, clearing the Trash and try again. This is where things got really annoying … I was able to select &quot;Install&quot; from the Mac Appstore, it showed Launchpad with the nice <a href="http://www.vicoapp.com/" title="Vico App">Vico</a> Icon, but after the <em>Installing</em> step was finished, the icon just disappeared ...</p>

<p>Looking at the logs revealed at least the outcome of the problem ...</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    installd: PackageKit: ----- Begin install -----
    installd: PackageKit: Not installing MAS receipt for skipped 
            bundle at Applications/Vico.app
    installd: Installed &quot;Vico&quot; ()
    installd: PackageKit: ----- End install -----
</code></pre></div>
<p>OK, so it <em>skipped</em> the bundle. But why? Alright, diving deeper I had a look at the &#39;installd&#39; process while running the installation:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    # First find the PID
    ps -ef | grep installd
    #
    # Now trace it
    sudo dtruss -p &lt;pid&gt;
    # 
    # Now run the installation again
</code></pre></div>
<p>Right, a lot of tracing information. However, 2 files that I was suspicious about:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    open(&quot;/var/db/receipts/se.bzero.Vico.plist\0&quot;, 0x601, 0x1
         = 5 0
    open(&quot;/var/db/receipts/se.bzero.Vico.bom\0&quot;, 0x601, 0x1B6)
         = 5 0
</code></pre></div>
<p>Alright, let&#39;s clear them (they were also present in /tmp):</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    sudo rm /var/db/receipts/se.bzero.Vico.plist 
    sudo rm /var/db/receipts/se.bzero.Vico.bom
    sudo rm /tmp/se.bzero.Vico.plist 
    sudo rm /tmp/se.bzero.Vico.bom
</code></pre></div>
<p>But not enough, the install still showed the same problem. And even more annoyingly, every installation attempt created the files again ... what I had to do was to restart &#39;installd&#39; and the Mac Appstore Management Process &#39;storeagent&#39;:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">    sudo killall installd storeagent
</code></pre></div>
<p>Now, relaunching the Mac Appstore I could finally install <a href="http://www.vicoapp.com/" title="Vico App">Vico</a> without any further issues …</p>

<p>Given that this was really annoying - it&#39;s also what I love about MacOS. You may have a partly malfunctioning Mac Appstore, an App Developer that may have not payed attention to what files to leave where - but in the end - you get it working. Thanks Apple! And hey - please make the Appstore more of a Mac Experience ... soon.</p>

</div>

<div class="related">
  <h2>Related Posts</h2>
    
  <div class="archive">
  
  <h3 class="post-title post-title-ext">
    <time>09 Dec</time>
    <a href="http://professionalvmware.com/2008/12/share-and-share-alike-sharing-vmdks-between-virtual-machines/">
  
Sharing a virtual disk between virtual machines in VMWare vSphere 5.5
      </a>
    </h3>
  </div>
    
  <div class="archive">
  
  <h3 class="post-title post-title-ext">
    <time>26 Sep</time>
    <a href="http://ariekanarie.nl/archives/211/remote-kernel-upgrade-with-debianubuntu-and-grub2">
  
Remote Kernel upgrade with Debian/Ubuntu and Grub2
      </a>
    </h3>
  </div>
    
  <div class="archive">
  
  <h3 class="post-title post-title-ext">
    <time>09 Sep</time>
    <a href="http://raxcloud.blogspot.de/2013/02/documenting-python-code-using-sphinx.html">
  
Documenting Python code using Sphinx and GitHub
      </a>
    </h3>
  </div>
    
</div>

      </div>
    </div>

  </body>
</html>
