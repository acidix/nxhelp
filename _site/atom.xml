<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>nxhelp.com</title>
 <link href="http://nxhelp.com//atom.xml" rel="self"/>
 <link href="http://nxhelp.com//"/>
 <updated>2014-03-23T22:39:41+01:00</updated>
 <id>http://nxhelp.com/</id>
 <author>
   <name>Thomas Uhde</name>
   <email></email>
 </author>

 
 <entry>
   <title>Sharing a virtual disk between virtual machines in VMWare vSphere 5.5</title>
   <link href="http://nxhelp.com//2013/12/09/sharing-virtual-disks/"/>
   <updated>2013-12-09T00:00:00+01:00</updated>
   <id>http://nxhelp.com//2013/12/09/sharing-virtual-disks</id>
   <content type="html">&lt;p&gt;This can be used to enable ‘MSCS’ in a box, in a lab scenario, or any other sort of setup, where more than one VM will require access to the same disk. Careful here though, your file system will need to support this as well. Read on for more.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Remote Kernel upgrade with Debian/Ubuntu and Grub2</title>
   <link href="http://nxhelp.com//2013/09/26/remote-kernel-upgrade/"/>
   <updated>2013-09-26T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/09/26/remote-kernel-upgrade</id>
   <content type="html">&lt;p&gt;Remotely upgrading a kernel without some sort of remote KVM solution is not for the faint hearted. Realizing you forgot to include some module, or build the initrd image after remotely rebooting a kernel is even worse ;)&lt;/p&gt;

&lt;p&gt;Luckily there are some nice tricks you can use to make a remote kernel upgrade as safe as possible.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Documenting Python code using Sphinx and GitHub</title>
   <link href="http://nxhelp.com//2013/09/09/documentation-with-sphinx/"/>
   <updated>2013-09-09T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/09/09/documentation-with-sphinx</id>
   <content type="html">&lt;p&gt;Documentation is good right? Doesn&amp;#39;t everybody like to have a good source of documents when working with a piece of software? I know I sure do. But creating documentation can be a drag, and creating pretty documentation can be even more of a drag, more time consuming than writing the code in the first place. Ain&amp;#39;t nobody got time for that!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to license SAP HANA from the command line</title>
   <link href="http://nxhelp.com//2013/09/06/license-sap-hana-from-commandline/"/>
   <updated>2013-09-06T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/09/06/license-sap-hana-from-commandline</id>
   <content type="html">&lt;p&gt;To license an SAP HANA instance if you&amp;#39;re not able to connect via HANA studio, follow this procedure:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Start-Up the system&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash language-bash&quot; data-lang=&quot;bash&quot;&gt;HDB start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Grab the Hardware Key via hdbsql&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;01
hdbsql -n localhost:3&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;15 -i &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -u SYSTEM -p password -m &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;SELECT * FROM M_LICENSE;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;EOF&lt;/span&gt;

Welcome to the SAP HANA Database interactive terminal.

Type:  &lt;span class=&quot;se&quot;&gt;\h&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;help &lt;/span&gt;with commands
&lt;span class=&quot;se&quot;&gt;\q&lt;/span&gt; to quit

 HARDWARE_KEY,SYSTEM_ID,INSTALL_NO,SYSTEM_NO,PRODUCT_NAME,PRODUCT_LIMIT,PRODUCT_USAGE,START_DATE,EXPIRATION_DATE,LAST_SUCCESSFUL_CHECK,PERMANENT,VALID,ENFORCED,LOCKED_DOWN,MEASUREMENT_XML
 &lt;span class=&quot;s2&quot;&gt;&amp;quot;**THIS IS THE HARDWARE KEY**&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;XXXX&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;XXXX&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;XXXX&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;SAP-HANA&amp;quot;&lt;/span&gt;,8192,2576,&lt;span class=&quot;s2&quot;&gt;&amp;quot;2013-09-05 00:00:00.000000000&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;2013-09-05 00:00:00.000000000&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;2013-09-06 00:00:00.000000000&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;,&lt;span class=&quot;s2&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;,&lt;span class=&quot;err&quot;&gt;&amp;quot;&lt;/span&gt;&amp;lt;?xml &lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt;1.0&lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt;UTF-8&lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt;?&amp;gt;&amp;lt;!DOCTYPE Measurement SYSTEM &lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt;GLasXML1.0.dtd&lt;span class=&quot;se&quot;&gt;\&amp;quot;&lt;/span&gt;&amp;gt;&amp;lt;Measurement&amp;gt;&amp;lt;Header&amp;gt;&amp;lt;Transfer&amp;gt;&amp;lt;Version&amp;gt;GXML1.0&amp;lt;/Version&amp;gt;&amp;lt;Program&amp;gt;SAPHANA1.0&amp;lt;/Program&amp;gt;&amp;lt;Name&amp;gt;SYSTEM&amp;lt;/Name&amp;gt;&amp;lt;/Transfer&amp;gt;&amp;lt;Sender/&amp;gt;&amp;lt;Receiver/&amp;gt;&amp;lt;/Heade
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Request a new license key&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Copy the license key file (in this example XX1_Standard.txt) to the target system and execute the following commands:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;LICENSE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat XX1_Standard.txt&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;01
hdbsql -n localhost:3&lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;15 -i &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;INSTANCE&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -u SYSTEM -p password -m &lt;span class=&quot;s&quot;&gt;&amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;SET SYSTEM LICENSE &amp;#39;${LICENSE}&amp;#39;;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;EOF&lt;/span&gt;

0 rows affected &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;overall &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;129.122 msec&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; server &lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;115.297 msec&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Check &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;the license was successfully applied by repeating step 2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Check if the license was successfully applied by repeating step 2&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>DTrace for MacOS</title>
   <link href="http://nxhelp.com//2013/08/22/dtrace-for-macos/"/>
   <updated>2013-08-22T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/08/22/dtrace-for-macos</id>
   <content type="html">&lt;p&gt;Since version 10.5 “Leopard”, Mac OS X has had DTrace, a tool used for performance analysis and troubleshooting. It provides data for Apple’s Instruments tool, as well as a collection of command line tools that are implemented as DTrace scripts. I’m familiar with the latter as I wrote the originals for the DTraceToolkit, which Apple then customized and enhanced for Mac OS X where they are shipped by default (great!).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Safely install SuSE Linux Enterprise Server on a SAN Volume</title>
   <link href="http://nxhelp.com//2013/08/12/install-suse-on-san/"/>
   <updated>2013-08-12T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/08/12/install-suse-on-san</id>
   <content type="html">&lt;p&gt;Running diskless servers sounds like a great idea - if it wasn&amp;#39;t for the fiddling around with auto-install scripts to finally get to a working system. I want to share and comment on my AutoYaST configuration that has served me well over the last couple of months.&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;The only thing this solution depends on is that the device you want to install on is connected an Lun-ID 00 - which is a prerequisite for SAN boot for most controllers anyway.&lt;/p&gt;

&lt;h2&gt;Bootloader Configuration&lt;/h2&gt;

&lt;p&gt;The initial bootloader configuration is rather straightforward. Simply setting it to &lt;code&gt;(hd0)&lt;/code&gt;, deciding to bother about selecting the right &lt;code&gt;hd0&lt;/code&gt; later and moving on:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;xml language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;loader_type&amp;gt;&lt;/span&gt;grub&lt;span class=&quot;nt&quot;&gt;&amp;lt;/loader_type&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;sections&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;section&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;append&amp;gt;&lt;/span&gt;ksdevice=bootif locale=en_US text priority=critical resume=/dev/vg_%%HOSTNAME%%/lv_swap splash=silent crashkernel=256M-:128M showopts&lt;span class=&quot;nt&quot;&gt;&amp;lt;/append&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;image&amp;gt;&lt;/span&gt;(hd0,0)/vmlinuz-3.0.13-0.27-default&lt;span class=&quot;nt&quot;&gt;&amp;lt;/image&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;initial&amp;gt;&lt;/span&gt;1&lt;span class=&quot;nt&quot;&gt;&amp;lt;/initial&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;initrd&amp;gt;&lt;/span&gt;(hd0,0)/initrd-3.0.13-0.27-default&lt;span class=&quot;nt&quot;&gt;&amp;lt;/initrd&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;lines_cache_id&amp;gt;&lt;/span&gt;0&lt;span class=&quot;nt&quot;&gt;&amp;lt;/lines_cache_id&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;SLES for SAP Applications - 3.0.13-0.27&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;original_name&amp;gt;&lt;/span&gt;linux&lt;span class=&quot;nt&quot;&gt;&amp;lt;/original_name&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;root&amp;gt;&lt;/span&gt;/dev/vg_%%HOSTNAME%%/lv_root&lt;span class=&quot;nt&quot;&gt;&amp;lt;/root&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;type&amp;gt;&lt;/span&gt;image&lt;span class=&quot;nt&quot;&gt;&amp;lt;/type&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/section&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Pre-Scripts&lt;/h2&gt;

&lt;p&gt;Here things are getting a bit more complicated. In the Pre-Script I am doing 2 things:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Renaming the volume group to incorporate the hostname&lt;/li&gt;
&lt;li&gt;Selecting the right volume to install the system on&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Here is my pre-script. The magic is in assigning the &lt;code&gt;$mpathvol&lt;/code&gt; variable. Paying attention to only use commands that are actually available at this stage of the install is crucial here.&lt;/p&gt;

&lt;p&gt;See that I am using 2 strings to match against the &lt;code&gt;/proc/scsi/scsi&lt;/code&gt; output - which strings you need highly depends on the SAN setup you have. I recommend checking on sn installed system to find a string that&amp;#39;s not too general and lets you find the device(s) safely.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;xml language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;pre-scripts&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;debug&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/debug&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;feedback&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/feedback&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;config-hostname.sh&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;interpreter&amp;gt;&lt;/span&gt;shell&lt;span class=&quot;nt&quot;&gt;&amp;lt;/interpreter&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;source&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;![CDATA[&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;# Find multipathed volume on LUN ID 00&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;# IBM is for volumes mapped by SVC&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;# WD3000 is for local devices of IBM Blades&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;mpathvol=\$(cat /proc/scsi/scsi | egrep -B1 &amp;quot;IBM|WD3000&amp;quot; | grep &amp;quot;Lun: 00&amp;quot; | while read x1 dev x2 chan x3 id x4 lun; do echo \${dev/scsi/}\:\${chan:1}\:\${id:1}\:\${lun:1}; done | while read device; do ls -1 /sys/class/scsi_device/\$device/device/block; done | tr &amp;#39;\n&amp;#39; &amp;#39;|&amp;#39; | sed &amp;#39;s/|\$/\n/g&amp;#39; | while read search; do multipath -ll | egrep -w -B3 &amp;quot;\$search&amp;quot;; done | head -n1 | cut -d&amp;quot; &amp;quot; -f2)&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;# Set the correct Volume-Group Name&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;cat /tmp/profile/autoinst.xml | sed &amp;quot;s,%%HOSTNAME%%,`echo \$HOSTNAME | cut -d&amp;quot;.&amp;quot; -f1`,g&amp;quot; &amp;gt; /tmp/profile/step1.xml&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;# Set the correct root device &amp;amp; LVM settings&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;# Check if we have a multipathed environment&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;if [ &amp;quot;_\$mpathvol&amp;quot; != &amp;quot;_&amp;quot; ]; then&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    cat /tmp/profile/step1.xml | sed &amp;quot;s,/dev/sda,/dev/\${mpathvol},g&amp;quot; &amp;gt;/tmp/profile/modified.xml&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;    # Do not paste the &amp;quot;Enable all devices for LVM&amp;quot; snipped here as LVM will spit on the reoccurrence of devices by path&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;else&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    mv /tmp/profile/step1.xml /tmp/profile/modified.xml&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;    # Enable all devices for LVM&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    sed -i &amp;#39;s#\[ &amp;quot;r|/dev/\.\*/by-path/\.\*|&amp;quot;, &amp;quot;a|/dev/mapper/\.\*|&amp;quot;, &amp;quot;a|/dev/\.\*/by-id/\.\*|&amp;quot;, &amp;quot;r/\.\*/&amp;quot; \]#\[ &amp;quot;a/\.\*/&amp;quot; \]#g&amp;#39; /etc/lvm/lvm.conf&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;]]&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/source&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/pre-scripts&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As long as you assign the final autoyast configuration to &lt;code&gt;/tmp/profile/modified.xml&lt;/code&gt; the installer will pick it up and use it instead of the autoinst.xml.&lt;/p&gt;

&lt;h2&gt;Post-Scripts&lt;/h2&gt;

&lt;p&gt;Here we are, having our system installed on the correct disk - so we should be good to go. Wrong. The system will only boot if it&amp;#39;s really (really) diskless. As soon as there&amp;#39;s another local disk we&amp;#39;re screwed. Grub will install on &lt;code&gt;hd0&lt;/code&gt;, and that&amp;#39;s the local disk we don&amp;#39;t want it to install on. I am working around this with 2 post-scripts.&lt;/p&gt;

&lt;p&gt;The reason I have 2 post scripts is actually a bit complicated. The first script doesn&amp;#39;t run chrooted so we can still be sure to have multipath support that&amp;#39;ll be crucial for getting the SCSI-ID of the device. The second script however does run chrooted to make sure we&amp;#39;re using the correct grub commands to install the bootloader (plus, the bootloader will install in this stage and our &amp;#39;device.map&amp;#39; would get overwritten by the installer):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;xml language-xml&quot; data-lang=&quot;xml&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;chroot-scripts&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
     &lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;debug&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/debug&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;feedback&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/feedback&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;config.sh&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;interpreter&amp;gt;&lt;/span&gt;shell&lt;span class=&quot;nt&quot;&gt;&amp;lt;/interpreter&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;chrooted&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/chrooted&amp;gt;&lt;/span&gt;
         &lt;span class=&quot;nt&quot;&gt;&amp;lt;source&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;![CDATA[&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;mpathid=\$(cat /proc/scsi/scsi | egrep -B1 &amp;quot;IBM|WD3000&amp;quot; | grep &amp;quot;Lun: 00&amp;quot; | while read x1 dev x2 chan x3 id x4 lun; do echo \${dev/scsi/}\:\${chan:1}\:\${id:1}\:\${lun:1}; done | while read device; do ls -1 /sys/class/scsi_device/\$device/device/block; done | tr &amp;#39;\n&amp;#39; &amp;#39;|&amp;#39; | sed &amp;#39;s/|\$/\n/g&amp;#39; | while read search; do multipath -ll | egrep -w -B3 &amp;quot;\$search&amp;quot;; done | head -n1 | cut -d&amp;quot; &amp;quot; -f1)&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;# Set the correct root device &amp;amp; LVM settings&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;# Check if we have a multipathed environment&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;if [ &amp;quot;_\$mpathid&amp;quot; != &amp;quot;_&amp;quot; ]; then&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    echo -e &amp;quot;(hd0)\t/dev/disk/by-id/scsi-\$mpathid&amp;quot; &amp;gt;/boot/grub/device.map&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    echo -e &amp;quot;(hd0)\t/dev/disk/by-id/scsi-\$mpathid&amp;quot; &amp;gt;/mnt/etc/device.map&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;]]&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/source&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;script&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;debug&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/debug&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;feedback&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;false&lt;span class=&quot;nt&quot;&gt;&amp;lt;/feedback&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;filename&amp;gt;&lt;/span&gt;config-chroot.sh&lt;span class=&quot;nt&quot;&gt;&amp;lt;/filename&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;interpreter&amp;gt;&lt;/span&gt;shell&lt;span class=&quot;nt&quot;&gt;&amp;lt;/interpreter&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;chrooted&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;config:type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;boolean&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;true&lt;span class=&quot;nt&quot;&gt;&amp;lt;/chrooted&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;source&amp;gt;&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;![CDATA[&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;#!/bin/bash&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;if [ -f /etc/device.map ]; then&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    mv /etc/device.map /boot/grub/device.map&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;    /usr/sbin/grub &amp;lt;&amp;lt;EOF&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;root (hd0,0)&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;setup (hd0)&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;EOF&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;]]&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;/source&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/chroot-scripts&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I am planning to do a Debian / Ubuntu preseed version as well, so stay tuned.&lt;/p&gt;

&lt;p&gt;You can download the whole AutoYaST configuration here: &lt;a href=&quot;/2013/08/12/install-suse-on-san/autoyast_san.xml&quot;&gt;autoyast_san.xml&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to version control /etc directory in Linux</title>
   <link href="http://nxhelp.com//2013/08/12/how-to-version-control-etc/"/>
   <updated>2013-08-12T00:00:00+02:00</updated>
   <id>http://nxhelp.com//2013/08/12/how-to-version-control-etc</id>
   <content type="html">&lt;p&gt;In Linux, /etc directory contains important system-related or application-specific configuration files. Especially in a server environment, it is wise to back up various server configurations in /etc directory regularly, to save trouble from any accidental changes in the directory, or to help with re-installation of necessary packages. Better yet, it is a good idea to “version control” everything in /etc directory, so that you can track configuration changes, or recover from a previous configuration state if need be.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Match VMware disk to linux device</title>
   <link href="http://nxhelp.com//2013/02/04/match-vmware-disk-to-linux-device/"/>
   <updated>2013-02-04T05:25:00+01:00</updated>
   <id>http://nxhelp.com//2013/02/04/match-vmware-disk-to-linux-device</id>
   <content type="html">&lt;p&gt;Today I had to find out which disks on Linux match up with the virtual disks on VMWare in order to remove some of them. This being quite a sensitive task, I spent some time figuring out how to do it consistently. Documenting it here for the afterworld:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;lsscsi &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep VMware &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;scsi ig1 ig2 ig3 ig4 ig5 dev&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$dev&lt;/span&gt; - SCSI &lt;span class=&quot;se&quot;&gt;\(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;scsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;cut -d&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt; -f1&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$scsi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;cut -d&lt;span class=&quot;se&quot;&gt;\:&lt;/span&gt; -f3&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\)&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Combining that with &lt;code&gt;pvs&lt;/code&gt; to find emtpy physical volumes in Linux LVM gives you a sweet list of devices you can safely disconnect (after vgreduce and pvremove of course ...)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pvs &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sed 1d &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read &lt;/span&gt;dev vg ig1 ig2 size free&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;_$size&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;_$free&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; -e &lt;span class=&quot;s2&quot;&gt;&amp;quot;$dev \t SCSI ($(lsscsi | grep $dev | cut -d&amp;quot;&lt;/span&gt;:&lt;span class=&quot;s2&quot;&gt;&amp;quot; -f1,3 | tr -d &amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;))&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Automatically set hostname from DHCP in Debian using isc-dhcp-client</title>
   <link href="http://nxhelp.com//2013/01/24/automatically-set-hostname-from-dhcp/"/>
   <updated>2013-01-24T05:25:00+01:00</updated>
   <id>http://nxhelp.com//2013/01/24/automatically-set-hostname-from-dhcp</id>
   <content type="html">&lt;p&gt;One major drawback of isc-dhcp-client in Debian (in this case, Debian 6) is that the option to automatically update the hostname (like dhcpcd) is missing. I came a cross a &lt;a href=&quot;http://www.debian-administration.org/articles/447&quot;&gt;post&lt;/a&gt; on debian-administration.org that discusses the problem together with a quite well documented approach on how to fix it. One problem is that, with a decently configured DNS server, the &amp;#39;host&amp;#39; command returns the hostname with a dot at the end.&lt;/p&gt;

&lt;p&gt;I updated the script to that it just takes the actual hostname to set it, and by sending a correct domain-name option you will end up with a decent setup (&amp;#39;hostname&amp;#39; is the actual, short hostname, &amp;#39;hostname --fqdn&amp;#39; returns the hostname with the domain). Here&amp;#39;s how:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/bin/sh&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Filename: /etc/dhcp3/dhclient-exit-hooks.d/hostname&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Purpose: Used by dhclient-script to set the hostname of the system&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# to match the DNS information for the host as provided by&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# DHCP.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Depends: dhcp3-client (should be in the base install)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# hostname (for hostname, again, should be in the base)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# bind9-host (for host)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# coreutils (for cut and echo)&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$reason&amp;quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; BOUND &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$reason&amp;quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; RENEW &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$reason&amp;quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; REBIND &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$reason&amp;quot;&lt;/span&gt; !&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; REBOOT &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;  return&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;dhclient-exit-hooks.d/hostname: Dynamic IP &lt;span class=&quot;nv&quot;&gt;address&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$new_ip_address&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;hostname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;host &lt;span class=&quot;nv&quot;&gt;$new_ip_address&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; cut -d &lt;span class=&quot;s1&quot;&gt;&amp;#39; &amp;#39;&lt;/span&gt; -f 5 &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; cut -d &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; -f 1&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$hostname&lt;/span&gt; &amp;gt; /etc/hostname
hostname &lt;span class=&quot;nv&quot;&gt;$hostname&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;dhclient-exit-hooks.d/hostname: Dynamic &lt;span class=&quot;nv&quot;&gt;Hostname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$hostname&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# And that _should_ just about do it...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Thank you!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Calculating sums using awk</title>
   <link href="http://nxhelp.com//2012/12/07/calculating-sums-using-awk/"/>
   <updated>2012-12-07T05:25:00+01:00</updated>
   <id>http://nxhelp.com//2012/12/07/calculating-sums-using-awk</id>
   <content type="html">&lt;p&gt;Before I google that another time (I am pretty sure we&amp;#39;re standing a chance that google will explode in that case), here&amp;#39;s how you calculate sums using awk:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;cat something &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; awk &lt;span class=&quot;s1&quot;&gt;&amp;#39;{ SUM += $5} END { print SUM }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Thank you!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Command-Line openmeta tagging on MacOS</title>
   <link href="http://nxhelp.com//2012/09/25/command-line-openmeta-tagging-on-macos/"/>
   <updated>2012-09-25T11:15:49Z</updated>
   <id>http://nxhelp.com//2012/09/25/command-line-openmeta-tagging-on-macos</id>
   <content type="html">&lt;p&gt;I love tags. I want to use them more (I am a lazy ass), because when I use them I find myself finding the stuff I look for way easier. I use &lt;a href=&quot;http://www.caseapps.com/tags/&quot;&gt;Tags&lt;/a&gt; and &lt;a href=&quot;http://www.stclairsoft.com/DefaultFolderX/&quot;&gt;DefaultFolderX&lt;/a&gt; mainly for tagging, but when I am on the commandline (like most of the times) I always find it annoying to either use Tags or something else to add/remove/list tags.&lt;/p&gt;

&lt;p&gt;That&amp;#39;s why I wrote this little script to help me tagging my files/folders. It needs &lt;a href=&quot;http://code.google.com/p/openmeta/&quot;&gt;openmeta&lt;/a&gt; and should be placed somewhere in your &lt;code&gt;$PATH&lt;/code&gt; for easier access (obviously):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;#!/usr/bin/env bash&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Frontend script for the openmeta commandline utility&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;usage &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Usage:&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$0 [file|directory]&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;   echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Specify one tag per line to add a tag, prepend a &amp;#39;-&amp;#39; to remove a tag&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;exit &lt;/span&gt;0
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;timestamp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;date +%s&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;qdir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PWD&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$1&lt;/span&gt;

openmeta -t -p &lt;span class=&quot;nv&quot;&gt;$qdir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; cut -d&lt;span class=&quot;s2&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt; -f 2- &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev &amp;gt;/var/tmp/tag_&lt;span class=&quot;nv&quot;&gt;$timestamp&lt;/span&gt; 2&amp;gt;/dev/null
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$?&lt;/span&gt; -ne 133 &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;curtags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;cat /var/tmp/tag_&lt;span class=&quot;nv&quot;&gt;$timestamp&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Current tags: $curtags&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Exit if we have nothing to tag&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; ! -d &lt;span class=&quot;nv&quot;&gt;$qdir&lt;/span&gt; -a ! -f &lt;span class=&quot;nv&quot;&gt;$qdir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; usage

&lt;span class=&quot;k&quot;&gt;while &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt; -p &lt;span class=&quot;s2&quot;&gt;&amp;quot;Tag: &amp;quot;&lt;/span&gt; line
&lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; -z &lt;span class=&quot;s2&quot;&gt;&amp;quot;${line:-}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;break&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;${line:0:1}&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;-&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;rmtags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;$rmtags ${line:1}&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;newtags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;$newtags $line&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;_$rmtags&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;_&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;then&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;openmeta -a &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;newtags&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -p &lt;span class=&quot;nv&quot;&gt;$qdir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; cut -d&lt;span class=&quot;s2&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt; -f 2- &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev
&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    for &lt;/span&gt;rmtag in &lt;span class=&quot;nv&quot;&gt;$rmtags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;        &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;curtags&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;$(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$curtags&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sed &lt;span class=&quot;s2&quot;&gt;&amp;quot;s/$rmtag//g&amp;quot;&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;done&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;    &lt;/span&gt;openmeta -s &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;curtags&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;${&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;newtags&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;}&lt;/span&gt; -p &lt;span class=&quot;nv&quot;&gt;$qdir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; cut -d&lt;span class=&quot;s2&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt; -f 2- &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; rev
&lt;span class=&quot;k&quot;&gt;fi&lt;/span&gt;

rm -f /var/tmp/tag_&lt;span class=&quot;nv&quot;&gt;$timestamp&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;&amp;gt;/dev/null
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>X11 Forwarding to a Mac</title>
   <link href="http://nxhelp.com//2012/05/23/x11-forwarding-to-a-mac/"/>
   <updated>2012-05-23T09:49:50Z</updated>
   <id>http://nxhelp.com//2012/05/23/x11-forwarding-to-a-mac</id>
   <content type="html">&lt;p&gt;I just tried to use X11 Forwarding from a RedHat 6 box to my Mac failing miserably. &lt;/p&gt;

&lt;p&gt;You have to make sure to have the &lt;code&gt;xorg-x11-xauth.x86_64&lt;/code&gt; package installed on the RedHat box in order for MacOS to start the tunnel for X11 forwarding - otherwise it won&amp;#39;t work ... &lt;/p&gt;

&lt;p&gt;See the logs:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;debug1: Requesting X11 forwarding with authentication spoofing.
...
debug1: Remote: No xauth program&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; cannot forward with spoofing.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
    

&lt;p&gt;After that X11 forwarding works like a charm :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Connecting to an 802.1X Network on Mac OS 10.7 Lion</title>
   <link href="http://nxhelp.com//2012/04/26/connecting-to-an-802-1x-network-on-mac-os-10-7-lion/"/>
   <updated>2012-04-26T09:44:57Z</updated>
   <id>http://nxhelp.com//2012/04/26/connecting-to-an-802-1x-network-on-mac-os-10-7-lion</id>
   <content type="html">&lt;p&gt;I recently faced the challenge (yes, it&amp;#39;s a &lt;em&gt;challenge&lt;/em&gt;) to connect to an 802.1X secured network from Mac OS 10.7. While normally the people responsible should provide you with a configuration profile for your Mac, that&amp;#39;s actually not very often the case ...&lt;/p&gt;

&lt;p&gt;After trying to connect, installing certificates into my Keychain, I ended up with the following thread on the Apple Support Community:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://discussions.apple.com/message/16164097#16164097&quot;&gt;https://discussions.apple.com/message/16164097#16164097&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The answer of DrVenture pretty much explains the procedure, but I&amp;#39;d like to outline it here as well:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Download iPCU (iPhone Configuration Utility) from &lt;a href=&quot;http://support.apple.com/kb/DL1465&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Open iPCU from Applications / Utilities or via Finder&lt;/li&gt;
&lt;li&gt;You screen will look like this:&lt;/li&gt;
&lt;li&gt;Select &lt;em&gt;Configuration Profiles&lt;/em&gt; from the pane on the lefthand side&lt;/li&gt;
&lt;li&gt;Click on &lt;em&gt;New&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Enter some required values in the &lt;em&gt;General&lt;/em&gt; section&lt;/li&gt;
&lt;li&gt;Select the &lt;em&gt;Credentials&lt;/em&gt; section&lt;/li&gt;
&lt;li&gt;Click on &lt;em&gt;Configure&lt;/em&gt; and select your network certificate (I used a base64 encoded certificate)&lt;/li&gt;
&lt;li&gt;Now go back to the &lt;em&gt;Wi-Fi&lt;/em&gt; section (never mind, Wi-Fi works for both wireless and cable connection)&lt;/li&gt;
&lt;li&gt;Now create a new Configuration. For a cable connection, specify any name as SSID, for a wireless connection - obviously - specify the &lt;em&gt;correct&lt;/em&gt; SSID&lt;/li&gt;
&lt;li&gt;Now select the protocols you need to use. In my case it was TTLS and PEAP with MSCHAPv2 authentication&lt;/li&gt;
&lt;li&gt;Move on to the &lt;em&gt;Authentication&lt;/em&gt; tab and put in your username and password (if needed). In case you need to present a certificate, go back to step 8 and import your &lt;em&gt;private key&lt;/em&gt; for this certificate. You should be able to select it in the dropdown underneath the &lt;em&gt;Password&lt;/em&gt; field.&lt;/li&gt;
&lt;li&gt;Last but not least navigate to the &lt;em&gt;Trust&lt;/em&gt; tab and activate the checkbox next to your network certificate you have to trust.&lt;/li&gt;
&lt;li&gt;After you&amp;#39;ve done all that, you click on &lt;em&gt;Export&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;In the &lt;em&gt;Export Configuration Profile&lt;/em&gt; dialog you select &lt;em&gt;None&lt;/em&gt; as security and proceed by clicking &lt;em&gt;Export ...&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;In the next dialog you just save the file somewhere on your harddisk&lt;/li&gt;
&lt;li&gt;To import the configuration profile, just double-click the file from finder.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Whenever you connect a network cable, a dialog should pop up asking you for the configuration profile to use. Just select the name you specified earlier and click &lt;em&gt;OK&lt;/em&gt;. You can check the status of your 802.1X connection from the &lt;em&gt;Network Preferences&lt;/em&gt;, allowing you to Connect, Disconnect and view some stats.&lt;/p&gt;

&lt;p&gt;Hope it&amp;#39;s helpful for anyone :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Import Mail from Thunderbird to Outlook 2011 on Mac</title>
   <link href="http://nxhelp.com//2012/03/27/import-mail-from-thunderbird-to-outlook-2011-on-mac/"/>
   <updated>2012-03-27T13:22:20Z</updated>
   <id>http://nxhelp.com//2012/03/27/import-mail-from-thunderbird-to-outlook-2011-on-mac</id>
   <content type="html">&lt;p&gt;I recently got a Mac from my employer, and I&amp;#39;d like to try using Outlook 2011 for Mac. That, however, requires all my emails from Thunderbird to be transferred to Outlook 2011. After barely clinging onto sanity trying to migrate, I finally found the following article which brought me (at least halfway) there:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.frontendeveloper.com/thunderbird_outlook/&quot;&gt;http://www.frontendeveloper.com/thunderbird_outlook/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However, the App mentioned to change the creator- and type-codes is only running on Rosetta (which of course isn&amp;#39;t available on Lion). I exchanged FileType to the (not nearly as comfortable, but at least working) app called &lt;a href=&quot;http://www.macupdate.com/app/mac/17300/quick-change&quot;&gt;Quick Change&lt;/a&gt;. You will have to use the following codes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Creator: ttxt&lt;/li&gt;
&lt;li&gt;Type: TEXT&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;After that, and, renaming the files to mbx, I was able to import my mails into Outlook 2011.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Prevent file deletion on Linux</title>
   <link href="http://nxhelp.com//2012/03/20/prevent-file-deletion-on-linux/"/>
   <updated>2012-03-20T10:19:32Z</updated>
   <id>http://nxhelp.com//2012/03/20/prevent-file-deletion-on-linux</id>
   <content type="html">&lt;p&gt;Note to self, before I google it another 25 times ... Here&amp;#39;s how to prevent a file to be deleted using extended attributes on Linux:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;    chattr +i &amp;lt;file&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;to check if it worked:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;    lsattr &amp;lt;file&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;example:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;    &lt;span class=&quot;nv&quot;&gt;$&amp;gt;&lt;/span&gt; sudo chattr +i testfile
    &lt;span class=&quot;nv&quot;&gt;$&amp;gt;&lt;/span&gt; lsattr testfile
    ----i------------e- testfile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Finding only parent PIDs</title>
   <link href="http://nxhelp.com//2012/02/22/finding-only-parent-pids/"/>
   <updated>2012-02-22T16:39:17Z</updated>
   <id>http://nxhelp.com//2012/02/22/finding-only-parent-pids</id>
   <content type="html">&lt;p&gt;Having a process that spawns children of itself it can be hard to only find the parents ... this command is pretty weird looking, but actually works. You can achieve the same much easier if you want to use &amp;#39;ps -ef | grep ...&amp;#39;, but I wanted to stick with pgrep, so:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;pgrep boe_crprocd.bin | egrep -v &amp;quot;$(pgrep boe_crprocd.bin -P &amp;quot;$(pgrep boe_crprocd.bin -d &amp;quot;,&amp;quot;)&amp;quot; -d &amp;quot;|&amp;quot;)&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Connecting to a remote DB2 instance</title>
   <link href="http://nxhelp.com//2011/12/20/connecting-to-a-remote-db2-instance/"/>
   <updated>2011-12-20T15:39:28Z</updated>
   <id>http://nxhelp.com//2011/12/20/connecting-to-a-remote-db2-instance</id>
   <content type="html">&lt;h1&gt;Preparing the DB2 Client&lt;/h1&gt;

&lt;h2&gt;On Windows&lt;/h2&gt;

&lt;p&gt;After the initial installation, to be able to connect using the command line, just run:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;db2cmd -i -w db2clpsetcp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;On Unix&lt;/h2&gt;

&lt;p&gt;Source the db2profile&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;. $HOME/sqllib/db2profile
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h1&gt;Accessing a Remote Database&lt;/h1&gt;

&lt;p&gt;To be able to access a remote database you have to catalog the node and the database.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;db2 &amp;quot;catalog tcpip node remote remote remotehost server 50000&amp;quot;
db2 &amp;quot;catalog database testdb as remotedb at node remote authentication server&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As an example for our internal DB2 test instance:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;db2 &amp;quot;catalog tcpip node usphlesx remote usphlesxcab04.pgdev.sap.corp server 50000&amp;quot;
db2 &amp;quot;catalog database sample as cab04smp at node usphlesx&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Once you did that, you can list the open catalogs:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;-
db2 &amp;quot;list node directory&amp;quot;
db2 &amp;quot;list database directory&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To uncatalog the node/database run:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;db2 &amp;quot;uncatalog database remotedb&amp;quot;
db2 &amp;quot;uncatalog node remote&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h5&gt;Further reading&lt;/h5&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://publib.boulder.ibm.com/infocenter/db2luw/v9/nav/3_1_2_3&quot;&gt;IBM&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://sqlrelay.sourceforge.net/sqlrelay/gettingstarted/db2.html#accessingremote&quot;&gt;SqlRelay&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Patching rdesktop to be compatible with Windows 2008</title>
   <link href="http://nxhelp.com//2011/11/30/patching-rdesktop-to-be-compatible-with-windows-2008/"/>
   <updated>2011-11-30T11:23:42Z</updated>
   <id>http://nxhelp.com//2011/11/30/patching-rdesktop-to-be-compatible-with-windows-2008</id>
   <content type="html">&lt;p&gt;Lots of people may know the famous rdesktop bug that keeps you from transferring files from mapped drives on your local machine. The error shown is:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;Path is not accessible. You might not have permission to use this 
network resource. Contact the administrator of this server to find 
out &lt;span class=&quot;k&quot;&gt;if &lt;/span&gt;your have access permissions.

Attempt to access an invalid address.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;While there is a patch for rdesktop since 2009, it doesn&amp;#39;t seem to make it into the major distributions. At least not into Ubuntu (11.04 as I&amp;#39;m speaking).&lt;/p&gt;

&lt;p&gt;So, I&amp;#39;m patching it myself ... Here are the steps:&lt;/p&gt;

&lt;h4&gt;Install all build dependencies&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;apt-get build-dep rdesktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Get the source package&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;mkdir /var/tmp/rdesktop-build
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/tmp/rdesktop-build
apt-get &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;rdesktop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Patch it&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;sudo patch -p0 &amp;lt;/home/user/Downloads/fix-2022945.patch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Build the package&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;rdesktop-1.6.0/
sudo dpkg-buildpackage -rfakeroot -b
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Install the package&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; ..
sudo dpkg -i rdesktop_1.6.0-3ubuntu4.1_amd64.deb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Done. Now rdesktop is working with Windows Server 2008.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Mastering the Mac App Store #1: App doesn't install</title>
   <link href="http://nxhelp.com//2011/11/30/mastering-the-mac-app-store-1-app-doesnt-install/"/>
   <updated>2011-11-30T09:09:27Z</updated>
   <id>http://nxhelp.com//2011/11/30/mastering-the-mac-app-store-1-app-doesnt-install</id>
   <content type="html">&lt;p&gt;I had another coming together with the &lt;em&gt;nice&lt;/em&gt; Mac Appstore. I really have mixed feelings about this thing. While I do like the idea of having a central place to manage my apps, it suffers from major problems …&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;It&amp;#39;s too slow.&lt;/li&gt;
&lt;li&gt;It&amp;#39;s incomplete.&lt;/li&gt;
&lt;li&gt;It causes problems&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Especially the third aspect bit me yesterday. I had the Trial version of &lt;a href=&quot;http://www.vicoapp.com/&quot; title=&quot;Vico App&quot;&gt;Vico&lt;/a&gt; installed on my Mac (the editor I was looking for, by the way …) and wanted to upgrade to the paid version. That said, the most logical  approach for me was to just go to the Mac Appstore and buy the damn thing!&lt;/p&gt;

&lt;p&gt;Having done that, I got suspicious right after I bought it. The Appstore told me that &lt;a href=&quot;http://www.vicoapp.com/&quot; title=&quot;Vico App&quot;&gt;Vico&lt;/a&gt; was already installed and if I wanted to redownload it. I responded &amp;quot;Yes, redownload&amp;quot;. That did nothing - opening &lt;a href=&quot;http://www.vicoapp.com/&quot; title=&quot;Vico App&quot;&gt;Vico&lt;/a&gt; still showed me my Trial period was over.&lt;/p&gt;

&lt;p&gt;The next try was to remove &lt;em&gt;Vico.app&lt;/em&gt; from my &lt;em&gt;Applications&lt;/em&gt; directory, clearing the Trash and try again. This is where things got really annoying … I was able to select &amp;quot;Install&amp;quot; from the Mac Appstore, it showed Launchpad with the nice &lt;a href=&quot;http://www.vicoapp.com/&quot; title=&quot;Vico App&quot;&gt;Vico&lt;/a&gt; Icon, but after the &lt;em&gt;Installing&lt;/em&gt; step was finished, the icon just disappeared ...&lt;/p&gt;

&lt;p&gt;Looking at the logs revealed at least the outcome of the problem ...&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    installd: PackageKit: ----- Begin install -----
    installd: PackageKit: Not installing MAS receipt for skipped 
            bundle at Applications/Vico.app
    installd: Installed &amp;quot;Vico&amp;quot; ()
    installd: PackageKit: ----- End install -----
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;OK, so it &lt;em&gt;skipped&lt;/em&gt; the bundle. But why? Alright, diving deeper I had a look at the &amp;#39;installd&amp;#39; process while running the installation:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    # First find the PID
    ps -ef | grep installd
    #
    # Now trace it
    sudo dtruss -p &amp;lt;pid&amp;gt;
    # 
    # Now run the installation again
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Right, a lot of tracing information. However, 2 files that I was suspicious about:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    open(&amp;quot;/var/db/receipts/se.bzero.Vico.plist\0&amp;quot;, 0x601, 0x1
         = 5 0
    open(&amp;quot;/var/db/receipts/se.bzero.Vico.bom\0&amp;quot;, 0x601, 0x1B6)
         = 5 0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Alright, let&amp;#39;s clear them (they were also present in /tmp):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    sudo rm /var/db/receipts/se.bzero.Vico.plist 
    sudo rm /var/db/receipts/se.bzero.Vico.bom
    sudo rm /tmp/se.bzero.Vico.plist 
    sudo rm /tmp/se.bzero.Vico.bom
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;But not enough, the install still showed the same problem. And even more annoyingly, every installation attempt created the files again ... what I had to do was to restart &amp;#39;installd&amp;#39; and the Mac Appstore Management Process &amp;#39;storeagent&amp;#39;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    sudo killall installd storeagent
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, relaunching the Mac Appstore I could finally install &lt;a href=&quot;http://www.vicoapp.com/&quot; title=&quot;Vico App&quot;&gt;Vico&lt;/a&gt; without any further issues …&lt;/p&gt;

&lt;p&gt;Given that this was really annoying - it&amp;#39;s also what I love about MacOS. You may have a partly malfunctioning Mac Appstore, an App Developer that may have not payed attention to what files to leave where - but in the end - you get it working. Thanks Apple! And hey - please make the Appstore more of a Mac Experience ... soon.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Black Friday sale at the Apple Store!</title>
   <link href="http://nxhelp.com//2011/11/25/black-friday-sale-at-the-apple-store/"/>
   <updated>2011-11-25T11:06:04Z</updated>
   <id>http://nxhelp.com//2011/11/25/black-friday-sale-at-the-apple-store</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://store.apple.com/uk&quot;&gt;Apple&lt;/a&gt; has started its annual &lt;a href=&quot;http://store.apple.com/uk&quot;&gt;Black Friday Sale&lt;/a&gt;! The major models (iMac, MacBook Pro, MacBook Air) have the most discounts, however, not the kind of discount you&amp;#39;d wait a whole year for. &lt;/p&gt;

&lt;p&gt;I finally ordered myself a &lt;a href=&quot;http://store.apple.com/uk/product/MC380Z/A?fnode=MTY1NDA1Mg&quot;&gt;Magic Trackpad&lt;/a&gt; to make use of all the new multi-touch gestures in OS Lion on my iMac. &lt;/p&gt;

&lt;p&gt;The sale is on in (as far as I know) all countries, so not limited to the U.S. and/or UK. So make use of it as long as it lasts!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thunderbird throwing 'sec_error_unknown_issuer'</title>
   <link href="http://nxhelp.com//2011/11/22/thunderbird-throwing-sec_error_unknown_issuer/"/>
   <updated>2011-11-22T10:15:50Z</updated>
   <id>http://nxhelp.com//2011/11/22/thunderbird-throwing-sec_error_unknown_issuer</id>
   <content type="html">&lt;p&gt;This morning Thunderbird greeted me with the following Error:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt; &amp;gt; [server address:443] uses an invalid security certificate. The certificate is not trusted because the issuer certificate is unknown.
 &amp;gt; (Error code: sec_error_unknown_issuer)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As you see from the port it&amp;#39;s not the IMAP nor the LDAP interface of our internal Exchange Server that&amp;#39;s being accessed, it&amp;#39;s the &lt;a href=&quot;http://gitorious.org/lightning-exchange-provider/pages/Home&quot;&gt;Exchange Data Provider for Lightning&lt;/a&gt; I &lt;a href=&quot;http://www.nxhelp.com/2011/10/my-perfect-exchange-on-linux-setup/&quot;&gt;use&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;To trust the certificate (given you know that you want to trust that server) click &amp;quot;Display Certificate&amp;quot; and navigate to the &lt;em&gt;Advanced&lt;/em&gt; tab to &lt;em&gt;Export Certificate&lt;/em&gt;. You then go to your Thunderbird Settings, &lt;em&gt;Advanced&lt;/em&gt;, &lt;em&gt;Security&lt;/em&gt;. In the &lt;em&gt;Servers&lt;/em&gt; Tab you import the newly exported certificate. Click on it and select &lt;em&gt;Edit Trust&lt;/em&gt; to select &lt;em&gt;Trust this server certificate&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Should be sorted! It would really be too easy to place a &amp;quot;Trust certificate&amp;quot; button next to &amp;quot;Cancel&amp;quot; button ...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>GDM: Starting Synergy before login</title>
   <link href="http://nxhelp.com//2011/11/21/gdm-starting-synergy-before-login/"/>
   <updated>2011-11-21T14:51:08Z</updated>
   <id>http://nxhelp.com//2011/11/21/gdm-starting-synergy-before-login</id>
   <content type="html">&lt;p&gt;If you want to be able to login to your machine using the input devices from your &lt;a href=&quot;http://synergy-foss.org/&quot;&gt;Synergy&lt;/a&gt; Server, you&amp;#39;ll have to run Synergy before actually logging in to the machine. &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s &lt;a href=&quot;https://help.ubuntu.com/community/SynergyHowto#On_the_Client-1&quot;&gt;How to do it&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Find Base-DN for Windows AD User</title>
   <link href="http://nxhelp.com//2011/11/21/find-base-dn-for-windows-ad-user/"/>
   <updated>2011-11-21T11:39:18Z</updated>
   <id>http://nxhelp.com//2011/11/21/find-base-dn-for-windows-ad-user</id>
   <content type="html">&lt;p&gt;To find out the Bind-DN for your Windows Active Directory User just execute the following from any logged-in Windows Box:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;    dsquery user dc=example,dc=com -name user1*
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Where &lt;em&gt;example.com&lt;/em&gt; is your domain and &lt;em&gt;user1&lt;/em&gt; is your username. Useful if you need a correct Bind DN to connect to the AD LDAP interface or similar.&lt;/p&gt;

&lt;p&gt;Also, a good resource can be found at the following &lt;a href=&quot;http://www.symantec.com/business/support/index?page=content&amp;amp;id;=HOWTO41996&quot;&gt;Symantec Website&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CrashPlan stuck in *Waiting for Connection*</title>
   <link href="http://nxhelp.com//2011/11/17/crashplan-stuck-in-waiting-for-connection/"/>
   <updated>2011-11-17T21:40:51Z</updated>
   <id>http://nxhelp.com//2011/11/17/crashplan-stuck-in-waiting-for-connection</id>
   <content type="html">&lt;p&gt;Recently had my CrashPlan Backup stuck in status &lt;em&gt;Waiting for connection&lt;/em&gt;. Thankfully I discovered the following support document which resolved it for me (restarting CrashPlan Engine):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://support.crashplan.com/doku.php/recipe/stop_and_start_engine?redirect=1&quot;&gt;Starting and Stopping CrashPlan Engine&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>TimeMachine Backup on a Shared Network location</title>
   <link href="http://nxhelp.com//2011/11/16/timemachine-backup-on-a-shared-network-location/"/>
   <updated>2011-11-16T18:54:48Z</updated>
   <id>http://nxhelp.com//2011/11/16/timemachine-backup-on-a-shared-network-location</id>
   <content type="html">&lt;p&gt;Having my iMac setup for TimeMachine I wanted to do the same for the new Macbook Air. While I don&amp;#39;t want to run around with TimeMachine Backup drive all the time (used to do that for my last MacBook, &lt;em&gt;bad&lt;/em&gt; decision) I wanted to setup TimeMachine Backup to my iMac on the same external HDD.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s the link that helped me doing that: &lt;a href=&quot;http://hints.macworld.com/article.php?story=20071110145136486&quot; title=&quot;Ease Time Machine networked backups&quot;&gt;Ease Time Machine networked backups&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The workflow:&lt;/p&gt;

&lt;h5&gt;On the iMac&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Connect the TimeMachine Drive&lt;/li&gt;
&lt;li&gt;Under &lt;em&gt;System Preferences&lt;/em&gt;, &lt;em&gt;Sharing&lt;/em&gt; share the drive&lt;/li&gt;
&lt;/ol&gt;

&lt;h5&gt;On the Macbook Air&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Connect to the shared drive&lt;/li&gt;
&lt;li&gt;Setup TimeMachine to use the drive&lt;/li&gt;
&lt;li&gt;Start a backup&lt;/li&gt;
&lt;li&gt;When &amp;quot;&lt;em&gt;Preparing backup …&lt;/em&gt;&amp;quot; turns into the actual backup, &lt;em&gt;Cancel&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Mount the newly created &lt;code&gt;sparsebundle&lt;/code&gt; file by double-clicking&lt;/li&gt;
&lt;li&gt;Open &lt;em&gt;DiskUtility&lt;/em&gt; and select the &lt;code&gt;sparsebundle&lt;/code&gt; file&lt;/li&gt;
&lt;li&gt;Select the &lt;em&gt;Partition&lt;/em&gt; tab&lt;/li&gt;
&lt;li&gt;Shrink the size of your Time Machine destination as needed&lt;/li&gt;
&lt;li&gt;Click Apply&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Alright, now the Macbook Air is backing up to the Disk via the &lt;code&gt;sparseimage&lt;/code&gt; file and over the network. Now the tricky part begins. Getting the iMac to backup to a &lt;code&gt;sparseimage&lt;/code&gt; file locally won&amp;#39;t work. You have to follow these steps:&lt;/p&gt;

&lt;h5&gt;On the Macbook Air&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Connect the external drive to the Macbook Air&lt;/li&gt;
&lt;li&gt;In &lt;em&gt;System Preferences&lt;/em&gt; select &lt;em&gt;Sharing&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;Turn on &lt;em&gt;File Sharing&lt;/em&gt; and select the external drive to be shared&lt;/li&gt;
&lt;/ol&gt;

&lt;h5&gt;On the iMac&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Connect to the newly created share and navigate to the Time Machine drive&lt;/li&gt;
&lt;li&gt;Open Time Machine preferences and select the Time Machine Share&lt;/li&gt;
&lt;li&gt;Let Time Machine create another &lt;code&gt;sparsebundle&lt;/code&gt; file for the iMac&lt;/li&gt;
&lt;li&gt;Once that&amp;#39;s done cancel the backup again and mount the bundle to shrink it (see top)&lt;/li&gt;
&lt;/ol&gt;

&lt;h5&gt;On the Macbook Air&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Turn off File Sharing to disconnect the drive&lt;/li&gt;
&lt;li&gt;Connect the drive to the iMac again&lt;/li&gt;
&lt;/ol&gt;

&lt;h5&gt;On the iMac&lt;/h5&gt;

&lt;ol&gt;
&lt;li&gt;Open Time Machine Preferences&lt;/li&gt;
&lt;li&gt;Choose Backup Disk and select the local disk&lt;/li&gt;
&lt;li&gt;Happy Time Machine&amp;#39;ing! The &lt;code&gt;sparsebundle&lt;/code&gt; on the disk will be used even though it&amp;#39;s attached locally!&lt;/li&gt;
&lt;/ol&gt;
</content>
 </entry>
 
 <entry>
   <title>Accessing iCloud from Google Calendar</title>
   <link href="http://nxhelp.com//2011/11/08/accessing-icloud-from-google-calendar/"/>
   <updated>2011-11-08T21:46:00Z</updated>
   <id>http://nxhelp.com//2011/11/08/accessing-icloud-from-google-calendar</id>
   <content type="html">&lt;p&gt;Accessing my iCloud Calendar from within Google Calendar was a major issue since my move to iCloud. Having said that, it&amp;#39;s not even my own &amp;quot;Backup&amp;quot; setup on Google Apps that bothers me that    much, it&amp;#39;s more about sharing my calendar with other family members that are not using iCloud.&lt;/p&gt;

&lt;h3&gt;Getting Access - the easy part&lt;/h3&gt;

&lt;p&gt;Getting access itself is, despite one small caveat, the easy task. You&amp;#39;ll have to publicly share your calendar. WIthout public sharing only iCloud users will be able to access your calendar. Despite the fact that you&amp;#39;ll share your calendar with the world - that&amp;#39;s a minor pitfall to take.&lt;/p&gt;

&lt;h3&gt;Getting Access - the problem ...&lt;/h3&gt;

&lt;p&gt;However, if you now try to access your calendar from Google (replacing &lt;code&gt;webcal://&lt;/code&gt; by &lt;code&gt;http://&lt;/code&gt;), you&amp;#39;ll be presented with the following error:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot;display: block; margin-left: auto; margin-right: auto;&quot; title=&quot;Screen Shot 2011-11-08 at 21.06.19.png&quot; src=&quot;http://www.nxhelp.com/wp-content/uploads/2011/11/Screen-Shot-2011-11-08-at-21.06.19.png&quot; border=&quot;0&quot; alt=&quot;Screen    Shot 2011 11 08 at 21 06 19&quot; width=&quot;459&quot; height=&quot;111&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The iCloud servers seem to prevent access from Google - probably mainly to avoid the Google servers crawling all public calendars, but with the drawback of keeping us from accessing our calendar. After a [post in the iCloud]{https://discussions.apple.com/message/16617386#16617386} forums I don&amp;#39;t have much confidence this will be fixed soon … &lt;/p&gt;

&lt;h3&gt;Solution 1 - the PHP script&lt;/h3&gt;

&lt;p&gt;So, I thought there must be an easier way than relying on Apple to fix the problem. Actually, there were 2 solutions that came to my mind:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Apache Reverse Proxy&lt;/li&gt;
&lt;li&gt;A PHP script&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Saying that I know that the majority of people doesn&amp;#39;t have an own (V-)Server to run an Apache instance they can actually configure. However, there are plenty of (free) providers that allow you to run PHP scripts.
The following script gets the calendar (via the public URL) from iCloud and presents it in a way that Google Calendar will be able to access it:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;// Set error level reporting level&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;error_reporting&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;E_ERROR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// create a new curl resource and set options&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

&lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CURLOPT_URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;https://&amp;lt;your iCloud feed&amp;gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CURLOPT_RETURNTRANSFER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CURLOPT_BINARYTRANSFER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;CURLOPT_FOLLOWLOCATION&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// grab URL, and return output&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Send the header based on the response from the server&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Content-type: text/calendar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Cache-Control: no-cache, must-revalidate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; 

&lt;span class=&quot;c1&quot;&gt;// HTTP/1.1&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Expires: Sat, 26 Jul 1997 05:00:00 GMT&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; 
&lt;span class=&quot;c1&quot;&gt;// Date in the past&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;// Send the curl output&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;err&quot;&gt; &lt;/span&gt; &lt;span class=&quot;err&quot;&gt; &lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;var_dump&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt; &lt;/span&gt; &lt;span class=&quot;err&quot;&gt; &lt;/span&gt; &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    
    &lt;span class=&quot;c1&quot;&gt;// close curl resource&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;&lt;span class=&quot;x&quot;&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Solution 2 - mod_proxy&lt;/h3&gt;

&lt;p&gt;The even easier solution (as long as you&amp;#39;ve got your own configurable Apache instance) is using mod&lt;em&gt;proxy to use a simple HTTP Reverse Proxy to get the feed from the Apple Servers and redirect it. One pitfall though is that the iCloud access strictly requires https access, so we&amp;#39;ll have to configure apache for ssl as well. This example is based on a RedHat 5.4 system, so adapt accordingly ...
     
First, install apache2 and mod&lt;/em&gt;ssl&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;yum install httpd mod_ssl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Next, we&amp;#39;ll configure the SSL Engine:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;vi /etc/httpd/conf.d/ssl.conf

...
&amp;lt;VirtualHost _default_:1443&amp;gt;
SSLProxyEngine on
SSLOptions -StrictRequire
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Having configured https and enabling the SSL Proxy option, we can now go ahead an get the actual ReverseProxy working:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;vi /etc/httpd/conf/httpd.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Add the following lines to the end of the file:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;ProxyRequests   off
SSLProxyEngine  on
    
&amp;lt;Proxy *&amp;gt;
   Order deny,allow
   Allow from all
&amp;lt;/Proxy&amp;gt;
    
&lt;span class=&quot;c&quot;&gt;# Set TCP/IP network buffer size for better throughput (bytes)&lt;/span&gt;
ProxyReceiveBufferSize 4096
    
ProxyPass /ical/ https://p03-calendarws.icloud.com/
ProxyPassReverse /ical/ https://p03-calendarws.icloud.com/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, start the apache process:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;bash&quot;&gt;/etc/init.d/httpd start
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;You can now access your calendar by replacing the &lt;code&gt;webcal://p03-calendarws.icloud.com/&lt;/code&gt; part of your public URL by &lt;code&gt;http(s)://yourserver/ical/&lt;/code&gt;, making is something like &lt;code&gt;http://yourserver/ical/ca/subscribe/1/pY7JHjsAi&lt;/code&gt; ...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>MacOS 10.7: Wake reason RTC (Alarm)</title>
   <link href="http://nxhelp.com//2011/11/01/macos-10-7-wake-reason-rtc-alarm/"/>
   <updated>2011-11-01T09:08:54Z</updated>
   <id>http://nxhelp.com//2011/11/01/macos-10-7-wake-reason-rtc-alarm</id>
   <content type="html">&lt;p&gt;Ever since I upgraded to MacOS 10.7 (or OS 10.7 as you&amp;#39;d call it nowadays) I noticed my machine periodically waking up from sleep without turning on the Monitor - and going back where it came from. While it&amp;#39;s not a big deal, it is kind of annoying, so I wanted to get rid of it. A quick search for &amp;quot;wake reason&amp;quot; in Console revealed at least parts of the issue:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;01/11/2011 06:14:13.000 kernel: Wake reason: RTC (Alarm)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After a quick search I found the Knowledge Base Article that describes exactly my problem: &lt;a href=&quot;http://support.apple.com/kb/HT3774?viewlocale=en_GB&quot;&gt;About Wake on Demand&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The reason for this odd behaviour is the Bonjour Sleep Proxy that is used to periodically advertise services of the machine to the network. While I had this turned off in 10.6, is was set to on automatically when I upgraded to 10.7. To shorten the article, the solution is to disable &amp;quot;Wake on Network Access&amp;quot; in the Energy Saving options.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Steve Jobs by Walter Isaacson</title>
   <link href="http://nxhelp.com//2011/10/24/steve-jobs-by-walter-isaacson/"/>
   <updated>2011-10-24T08:56:51Z</updated>
   <id>http://nxhelp.com//2011/10/24/steve-jobs-by-walter-isaacson</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.nxhelp.com/wp-content/uploads/2011/10/Bildschirmfoto-2011-10-24-um-07.32.29.jpg&quot;&gt;&lt;img src=&quot;http://www.nxhelp.com/wp-content/uploads/2011/10/Bildschirmfoto-2011-10-24-um-07.32.29-300x252.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My copy was shipped by Amazon today. Can&amp;#39;t wait for it to arrive.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>(My) Perfect Exchange on Linux setup</title>
   <link href="http://nxhelp.com//2011/10/21/my-perfect-exchange-on-linux-setup/"/>
   <updated>2011-10-21T14:26:10Z</updated>
   <id>http://nxhelp.com//2011/10/21/my-perfect-exchange-on-linux-setup</id>
   <content type="html">&lt;p&gt;Given the fact that most companies still use Microsoft Exchange as their preferred E-Mail and Collaboration solution, we (running Linux and/or MacOS) see ourselves confronted with the same problem: &lt;em&gt;How to get E-Mails and Calendar entries with the least possible pain.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;I want to share my current, well working, setup with you.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Choosing a client&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I&amp;#39;ve chosen Mozilla Thunderbird as my preferred client on the Linux desktop for E-Mail and Calendar.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;E-Mail&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I went for the usual setup: IMAP and SMTP directly to the Exchange server. The only (at least known to me) area where this damn thing is actually standards compliant.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Calendaring&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;I use the &lt;a href=&quot;http://gitorious.org/lightning-exchange-provider/pages/Home&quot;&gt;Exchange Data Provider for Lightning&lt;/a&gt; for calendaring. Works like a charm. After using DavMail with all the ups and downs this is the most stable solution I&amp;#39;ve used so far on Linux. Can only recommend it.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Calendar syncing&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;This goes for Google Calendar and/or iCloud. Syncing is a major factor for me as I want to have at least read-only access on my work calendar while I&amp;#39;m on the road.&lt;/p&gt;

&lt;p&gt;Also, I went for an extremely straight-forward setup. Using the &lt;a href=&quot;http://www.sunbird-kalender.de/extension/autoexport/de/index.html&quot;&gt;Automatic Export Plugin&lt;/a&gt; for Thunderbird I just let it put a copy of my calendar exported to ICS into my Public folder in Dropbox. Using the &amp;quot;Public URL&amp;quot; feature I then subscribe to the calendar in read-only mode from Google Calendar and iCloud.&lt;/p&gt;

&lt;p&gt;That&amp;#39;s it! The easiest to configure and maintain setup I ever had. Man am I happy :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>DB21015E on RedHat 5.6</title>
   <link href="http://nxhelp.com//2011/10/11/db21015e-on-redhat-5-6/"/>
   <updated>2011-10-11T13:09:44Z</updated>
   <id>http://nxhelp.com//2011/10/11/db21015e-on-redhat-5-6</id>
   <content type="html">&lt;p&gt;If you receive the following message trying to connect do a DB2 instance&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;[user@host ~]$ db2 connect to INSTANCE
 DB21015E The Command Line Processor backend process request queue or input
 queue was not created within the timeout period.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Looking into the strace output shows something like&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;msgget(0x416b94ef, IPC_CREAT|IPC_EXCL|0610) = -1 ENOSPC (No space left on device)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;and db2diag.log shows&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;PID : 9999 TID : 47272606561216PROC : db2bp
 INSTANCE: INSANCE NODE : 000
 FUNCTION: DB2 UDB, oper system services, sqloMLNique, probe:8
 MESSAGE : ZRC=0x870F0043=-2029060029=SQLO_QUE_EXCEED
 &amp;quot;Maximum system queue limit exceeded&amp;quot;
 DIA8559C A message queue limit has been exceeded.
 CALLED : OS, -, msgget OSERR: ENOSPC (28)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Basically that means that&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;a) In terms of shared Memory&lt;/strong&gt;
all possible shared memory IDs have been taken (SHMMNI), or allocating a segment of the requested size would cause the system to exceed the system-wide limit on shared memory (SHMALL).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;b) In terms of Semaphores&lt;/strong&gt;
A semaphore set has to be created but the system limit for the maximum number of semaphore sets (SEMMNI), or the system wide maximum number of semaphores (SEMMNS), would be exceeded.&lt;/p&gt;

&lt;p&gt;(we&amp;#39;ll get to the point that this is &lt;em&gt;not&lt;/em&gt; our issue here ...)&lt;/p&gt;

&lt;p&gt;Next step would be to check the system-wide values to see what we&amp;#39;re looking for:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;$ ipcs -l




------ Shared Memory Limits --------
 max number of segments = 4096
 max seg size (kbytes) = 67108864
 max total shared memory (kbytes) = 17179869184
 min seg size (bytes) = 1




------ Semaphore Limits --------
 max number of arrays = 128
 max semaphores per array = 250
 max semaphores system wide = 32000
 max ops per semop call = 32
 semaphore max value = 32767




------ Messages: Limits --------
 max queues system wide = 16
 max size of message (bytes) = 65536
 default max size of queue (bytes) = 65536




$ sysctl -a | grep shm
 vm.hugetlb_shm_group = 0
 kernel.shmmni = 4096
 kernel.shmall = 4294967296
 kernel.shmmax = 68719476736
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So we have a maximum of 4096 shared memory segments, 128 Semaphore Arrays and 250 Semaphores per Array available. Looks reasonably good so far.&lt;/p&gt;

&lt;p&gt;The most concerning parameter in terms of DB2 is this one, and that goes well together with the msgget() system call:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;max queues system wide = 16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;According to the DB2 Documentation, the maximum number of message queues (MSGMNI) has to be set to at least 16384. Also, the maximum number of Semaphore Arrays should be 1024.&lt;/p&gt;

&lt;p&gt;OK, let&amp;#39;s do it:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;sysctl -w kernel.msgmni=16384
sysctl -w kernel.sem=&amp;quot;250 32000 100 1024&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Et voila, it&amp;#39;s working:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;$ db2 connect to INSTANCE




Database Connection Information




Database server = DB2/LINUXX8664 9.7.1
 SQL authorization ID = USER
 Local database alias = INSTANCE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, let&amp;#39;s make the change persistent:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;echo &amp;quot;kernel.msgmni=16384&amp;quot; &amp;gt;&amp;gt;/etc/sysctl.conf
echo &amp;quot;kernel.sem=\&amp;quot;250 32000 100 1024\&amp;quot;&amp;quot; &amp;gt;&amp;gt;/etc/sysctl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;#39;s it! Now your DB2 adventures can begin ...&lt;/p&gt;

&lt;p&gt;Note: Please see the &lt;a href=&quot;(http://publib.boulder.ibm.com/infocenter/db2luw/v9r7/index.jsp?topic=%2Fcom.ibm.db2.luw.qb.server.doc%2Fdoc%2Ft0008238.html&quot;&gt;official DB2 documentation&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Local RHEL Installation Source</title>
   <link href="http://nxhelp.com//2011/10/11/local-rhel-installation-source/"/>
   <updated>2011-10-11T10:02:00Z</updated>
   <id>http://nxhelp.com//2011/10/11/local-rhel-installation-source</id>
   <content type="html">&lt;p&gt;For RedHat System which are not connected to the internet, it&amp;#39;s good to have a local dvd as an installation source. Here&amp;#39;s how to do it:&lt;/p&gt;

&lt;p&gt;First, mount the Installation DVD:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;mkdir /media/cdrom &amp;amp;&amp;amp; mount /dev/cdrom /media/cdrom
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now, let&amp;#39;s quickly create an entry in &lt;code&gt;/etc/yum.repos.d/&lt;/code&gt; that points to your dvd&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;cat &amp;gt;/etc/yum.repos.d/rhel_dvd.repo &amp;lt;&amp;lt;EOF
[dvd]
mediaid=$(head -n1 /media/cdrom/.discinfo)
name=RedHat Enterprise Linux $(sed -n &amp;#39;2p&amp;#39; /media/cdrom/.discinfo | rev | cut -c -3 | rev) DVD
baseurl=file:///media/cdrom/Server
EOF
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;That&amp;#39;s it! Now you can use the following command to install packages without contacting RedHat Network:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;yum install strace --noplugins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;For further information, visit the &lt;a href=&quot;https://access.redhat.com/kb/docs/DOC-9744&quot;&gt;Official RedHat Article&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Citrix ICAClient dumping core on Ubuntu 11.04</title>
   <link href="http://nxhelp.com//2011/10/03/citrix-icaclient-segfaulting-on-ubuntu-11-04/"/>
   <updated>2011-10-03T15:27:32Z</updated>
   <id>http://nxhelp.com//2011/10/03/citrix-icaclient-segfaulting-on-ubuntu-11-04</id>
   <content type="html">&lt;p&gt;After switching to Ubuntu 11.04 from Fedora 15 I noticed that I wasn&amp;#39;t able to connect to our internal Citrix environment using ICAClient. Having followed the usual documentation (listed below) I was presented with the following:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;*** glibc detected *** /usr/lib/ICAClient/wfica: free(): invalid next size (fast): 0x09c6e8b0 ***
      ======= Backtrace: =========
      ...




The process is actually core-dumping in libproxy.so:




Program terminated with signal 11, Segmentation fault.
      #0  0xf70d8f72 in nbc_connect () from /usr/lib/ICAClient/libproxy.so
      (gdb) bt
      #0  0xf70d8f72 in nbc_connect () from /usr/lib/ICAClient/libproxy.so
      #1  0xf70cd4d6 in NullConnect () from /usr/lib/ICAClient/libproxy.so
      #2  0xf70ce6cd in ProxyConnect () from /usr/lib/ICAClient/libproxy.so
      #3  0xf70ce8b1 in PROXYconnect () from /usr/lib/ICAClient/libproxy.so
      #4  0xf70d8764 in IPSTACKconnect () from /usr/lib/ICAClient/libproxy.so
      #5  0x080c3757 in ?? ()
      #6  0x080c2518 in ?? ()
      #7  0xf70c094a in ?? () from /usr/lib/ICAClient/PDCRYPT1.DLL
      #8  0x080c060a in WdSetInformation ()
      #9  0x080ffd8a in wdConnect ()
      #10 0x08100f9b in NCSbind ()
      #11 0x08077d09 in OldMain ()
      #12 0x08137f4a in PlatAppMain ()
      #13 0x080feda6 in AppMain ()
      #14 0x08137eda in main ()
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, Library dependencies on the libproxy.so looked fine:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;$ ldd /usr/lib/ICAClient/libproxy.so
      linux-gate.so.1 =&amp;gt;  (0xf7732000)
      libc.so.6 =&amp;gt; /lib32/libc.so.6 (0xf7594000)
      /lib/ld-linux.so.2 (0xf7733000)
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In the strace output I could see it was trying to parse a proxy configuration - having already unset all proxy variables (http&lt;em&gt;proxy, https&lt;/em&gt;proxy, ftp_proxy) I was wondering where he was trying to get the proxy configuration from. The following line was the important one:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;text language-text&quot; data-lang=&quot;text&quot;&gt;[pid 15818] open(&amp;quot;/home/i064850/.mozilla/firefox/cuqn88q3.default/prefs.js&amp;quot;, O_RDONLY) = 5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It was actually trying to get my proxy configuration from my Firefox Preferences! While one could argue about this decision, it seems to cause my issue - because after moving the .mozilla folder, wfica was finally able to connect!&lt;/p&gt;

&lt;p&gt;In the end I found out that this is an issue if you use &lt;strong&gt;Automatic Proxy Configuration&lt;/strong&gt; in Firefox together with the Citrix ICA Client. Once you either deactivate or manually specify the proxy setting, it magically works.&lt;/p&gt;

&lt;p&gt;I still have to find out where to submit a bug report for ICAClient - probably nowhere ...&lt;/p&gt;

&lt;p&gt;[Edit] Bug report &lt;a href=&quot;http://forums.citrix.com/message.jspa?messageID=1585465#1585465&quot;&gt;posted&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;References: &lt;a href=&quot;https://help.ubuntu.com/community/CitrixICAClientHowTo&quot;&gt;The Ubuntu ICAClient HowTo&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 

</feed>
